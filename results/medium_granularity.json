{
  "doc_name": "earthmover.pdf",
  "structure": [
    {
      "title": "INTRODUCTION",
      "start_index": 1,
      "end_index": 2,
      "nodes": [
        {
          "title": "Figure 1: A concrete example of online music library analysi...",
          "start_index": 2,
          "end_index": 2,
          "summary": "The document introduces two novel techniques, Progressive Bounding (PB) and Dynamic Refinement Ordering (DRO), designed to significantly accelerate Earth Mover's Distance (EMD) based similarity search. PB allows for early termination of calculations for unpromising histograms, while DRO efficiently manages and reorders multiple EMD computations. These methods are shown to improve search performance by one to two orders of magnitude compared to existing state-of-the-art approaches, particularly for large-scale datasets. The paper also provides a formal definition of EMD, explains its computation using min-cost flow algorithms, and details the standard filter-and-refinement framework for similarity queries. A concrete example of EMD application in viral marketing analysis, illustrating the dissimilarity between customer download rate distributions for music genres, is presented. The document is structured to cover preliminaries, the proposed techniques, experimental evaluation, related work, and future directions.",
          "node_type": "figure",
          "metadata": {
            "figure_number": "Figure 1",
            "caption": "A concrete example of online music library analysis",
            "figure_type": "bar chart",
            "bbox": {
              "x_min": 517.0,
              "y_min": 447.0,
              "x_max": 917.0,
              "y_max": 569.0
            }
          },
          "nodes": [
            {
              "title": "Table 1: Cost matrix C of 4 music genres",
              "start_index": 2,
              "end_index": 2,
              "summary": "The document introduces two novel techniques, Progressive Bounding (PB) and Dynamic Refinement Ordering (DRO), designed to significantly accelerate Earth Mover's Distance (EMD) based similarity search. PB allows for early termination of calculations for unpromising histograms, while DRO efficiently manages and reorders multiple EMD computations. These methods are shown to improve search performance by one to two orders of magnitude compared to existing state-of-the-art approaches, particularly for large-scale datasets. The paper also provides a formal definition of EMD, explains its computation using min-cost flow algorithms, and details the standard filter-and-refinement framework for similarity queries. A concrete example of EMD application in viral marketing analysis, illustrating the dissimilarity between customer download rate distributions for music genres, is presented. The document is structured to cover preliminaries, the proposed techniques, experimental evaluation, related work, and future directions.",
              "node_type": "figure",
              "metadata": {
                "figure_number": "Table 1",
                "caption": "Cost matrix C of 4 music genres",
                "figure_type": "table",
                "bbox": {
                  "x_min": 550.0,
                  "y_min": 634.0,
                  "x_max": 837.0,
                  "y_max": 717.0
                }
              },
              "nodes": [],
              "node_id": "0002"
            },
            {
              "title": "Figure 2: The flow network of the music example",
              "start_index": 2,
              "end_index": 2,
              "summary": "The document introduces two novel techniques, Progressive Bounding (PB) and Dynamic Refinement Ordering (DRO), designed to significantly accelerate Earth Mover's Distance (EMD) based similarity search. PB allows for early termination of calculations for unpromising histograms, while DRO efficiently manages and reorders multiple EMD computations. These methods are shown to improve search performance by one to two orders of magnitude compared to existing state-of-the-art approaches, particularly for large-scale datasets. The paper also provides a formal definition of EMD, explains its computation using min-cost flow algorithms, and details the standard filter-and-refinement framework for similarity queries. A concrete example of EMD application in viral marketing analysis, illustrating the dissimilarity between customer download rate distributions for music genres, is presented. The document is structured to cover preliminaries, the proposed techniques, experimental evaluation, related work, and future directions.",
              "node_type": "figure",
              "metadata": {
                "figure_number": "Figure 2",
                "caption": "The flow network of the music example",
                "figure_type": "diagram",
                "bbox": {
                  "x_min": 517.0,
                  "y_min": 739.0,
                  "x_max": 917.0,
                  "y_max": 870.0
                }
              },
              "nodes": [],
              "node_id": "0003"
            },
            {
              "title": "Table 1: Table 1: Cost matrix C of 4 music genres",
              "start_index": 2,
              "end_index": 2,
              "summary": "The document introduces two novel techniques, Progressive Bounding (PB) and Dynamic Refinement Ordering (DRO), designed to significantly accelerate Earth Mover's Distance (EMD) based similarity search. PB allows for early termination of calculations for unpromising histograms, while DRO efficiently manages and reorders multiple EMD computations. These methods are shown to improve search performance by one to two orders of magnitude compared to existing state-of-the-art approaches, particularly for large-scale datasets. The paper also provides a formal definition of EMD, explains its computation using min-cost flow algorithms, and details the standard filter-and-refinement framework for similarity queries. A concrete example of EMD application in viral marketing analysis, illustrating the dissimilarity between customer download rate distributions for music genres, is presented. The document is structured to cover preliminaries, the proposed techniques, experimental evaluation, related work, and future directions.",
              "node_type": "table",
              "metadata": {
                "table_number": "Table 1",
                "caption": "Table 1: Cost matrix C of 4 music genres",
                "headers": [],
                "key_values": {},
                "bbox": {
                  "x_min": 518.0,
                  "y_min": 637.0,
                  "x_max": 830.0,
                  "y_max": 717.0
                }
              },
              "nodes": [],
              "node_id": "0004"
            }
          ],
          "node_id": "0001"
        }
      ],
      "node_id": "0000",
      "summary": "This document focuses on optimizing Earth Mover's Distance (EMD) based similarity search, particularly for large-scale datasets. The main points covered are:\n\n*   **Problem:** EMD is a powerful similarity measure for histograms, offering better distinguishability than traditional methods. However, its high computational cost, especially in the refinement phase of similarity search, limits its scalability.\n*   **Existing Solutions:** Current approaches use a filter-and-refinement framework, where filtering techniques aim to reduce the number of EMD calculations. However, the refinement step remains a bottleneck.\n*   **Proposed Solutions:** The paper introduces three key techniques to optimize the refinement phase:\n    *   **Efficient Min-Cost Flow Algorithm (SIA):** Adapting a simplified graph incremental algorithm (SIA) for EMD computation to improve efficiency.\n    *   **Dynamic Distance Bound (Progressive Bounding - PB):** A technique to incrementally tighten a running lower bound for EMD during computation, allowing for early termination of calculations for unpromising candidates.\n    *   **Dynamic Refinement Order (DRO):** A strategy that concurrently handles and dynamically reorders multiple EMD calculations, paired with a concurrent refinement strategy, to reduce needless computations.\n*   **Benefits:** These proposed techniques are orthogonal to existing filtering methods and can significantly reduce the cost of EMD-based similarity queries, achieving orders of magnitude improvement in performance for large-scale datasets.\n*   **Formal Definition of EMD:** The document also provides a formal definition of EMD as a minimum-cost flow problem and illustrates its calculation with a real-world example from web data analysis."
    },
    {
      "title": "PRELIMINARIES",
      "start_index": 2,
      "end_index": 3,
      "nodes": [
        {
          "title": "Computing the EMD",
          "start_index": 3,
          "end_index": 3,
          "nodes": [
            {
              "title": "Figure 3: Augmenting 1 flow on edge e(qs, ph).",
              "start_index": 3,
              "end_index": 3,
              "summary": "The provided document excerpt focuses on computing the Earth Mover's Distance (EMD). It explains that EMD can be calculated using linear programming or network flow algorithms. The document details how to model EMD computation as a network flow problem by constructing a bipartite flow network. It describes the vertices, edges, and capacities within this network, where the flow capacity of vertices corresponds to histogram bin values. Finding the minimum-cost flow in this network is equivalent to finding the EMD.\n\nThe Successive Shortest Path (SSP) algorithm is presented as a representative network flow-based solution. The document outlines the iterative process of SSP, which involves finding and augmenting paths from vertices with remaining flow capacity to those that can receive flow, using only feasible edges. It defines feasible edges (physical and non-physical/reverse) and their costs. The process of augmenting flow along a path and updating capacities is illustrated with an example. The time complexity of computing EMD using SSP is also discussed.\n\nAdditionally, the excerpt introduces a \"Filter-and-Refinement Framework\" for k-nearest neighbor (k-NN) queries on a collection of histograms. This framework uses lower-bound filtering techniques (e.g., normal distribution index, full projection lower bound) to estimate EMD and prune histograms. Histograms that cannot be pruned are then processed using a black-box EMD computation module like SSP. The filters are applied in an order from quick-and-dirty to slow-and-accurate.",
              "node_type": "figure",
              "metadata": {
                "figure_number": "Figure 3",
                "caption": "Augmenting 1 flow on edge e(qs, ph).",
                "figure_type": "diagram",
                "bbox": {
                  "x_min": 87.0,
                  "y_min": 727.0,
                  "x_max": 487.0,
                  "y_max": 809.0
                }
              },
              "nodes": [],
              "node_id": "0007"
            },
            {
              "title": "Figure 4: Filter-and-refinement framework",
              "start_index": 3,
              "end_index": 3,
              "summary": "The provided document excerpt focuses on computing the Earth Mover's Distance (EMD). It explains that EMD can be calculated using linear programming or network flow algorithms. The document details how to model EMD computation as a network flow problem by constructing a bipartite flow network. It describes the vertices, edges, and capacities within this network, where the flow capacity of vertices corresponds to histogram bin values. Finding the minimum-cost flow in this network is equivalent to finding the EMD.\n\nThe Successive Shortest Path (SSP) algorithm is presented as a representative network flow-based solution. The document outlines the iterative process of SSP, which involves finding and augmenting paths from vertices with remaining flow capacity to those that can receive flow, using only feasible edges. It defines feasible edges (physical and non-physical/reverse) and their costs. The process of augmenting flow along a path and updating capacities is illustrated with an example. The time complexity of computing EMD using SSP is also discussed.\n\nAdditionally, the excerpt introduces a \"Filter-and-Refinement Framework\" for k-nearest neighbor (k-NN) queries on a collection of histograms. This framework uses lower-bound filtering techniques (e.g., normal distribution index, full projection lower bound) to estimate EMD and prune histograms. Histograms that cannot be pruned are then processed using a black-box EMD computation module like SSP. The filters are applied in an order from quick-and-dirty to slow-and-accurate.",
              "node_type": "figure",
              "metadata": {
                "figure_number": "Figure 4",
                "caption": "Filter-and-refinement framework",
                "figure_type": "diagram",
                "bbox": {
                  "x_min": 518.0,
                  "y_min": 525.0,
                  "x_max": 908.0,
                  "y_max": 640.0
                }
              },
              "nodes": [],
              "node_id": "0008"
            }
          ],
          "node_id": "0006",
          "summary": "The provided document excerpt focuses on computing the Earth Mover's Distance (EMD). It explains that EMD can be calculated using linear programming or network flow algorithms. The document details how to model EMD computation as a network flow problem by constructing a bipartite flow network. It describes the vertices, edges, and capacities within this network, where the flow capacity of vertices corresponds to histogram bin values. Finding the minimum-cost flow in this network is equivalent to finding the EMD.\n\nThe Successive Shortest Path (SSP) algorithm is presented as a representative network flow-based solution. The document outlines the iterative process of SSP, which involves finding and augmenting paths from vertices with remaining flow capacity to those that can receive flow, using only feasible edges. It defines feasible edges (physical and non-physical/reverse) and their costs. The process of augmenting flow along a path and updating capacities is illustrated with an example. The time complexity of computing EMD using SSP is also discussed.\n\nAdditionally, the excerpt introduces a \"Filter-and-Refinement Framework\" for k-nearest neighbor (k-NN) queries on a collection of histograms. This framework uses lower-bound filtering techniques (e.g., normal distribution index, full projection lower bound) to estimate EMD and prune histograms. Histograms that cannot be pruned are then processed using a black-box EMD computation module like SSP. The filters are applied in an order from quick-and-dirty to slow-and-accurate."
        },
        {
          "title": "Filter-and-Re\ufb01nement Framework",
          "start_index": 3,
          "end_index": 4,
          "node_id": "0009",
          "summary": "The provided document excerpt focuses on methods for computing the Earth Mover's Distance (EMD). It details two main approaches:\n\n1.  **Network Flow Algorithms for EMD Computation:**\n    *   EMD can be computed using linear programming or network flow algorithms.\n    *   The problem is modeled as finding a minimum-cost flow in a bipartite graph.\n    *   Vertices represent histogram bins, and edges connect bins between two histograms, with costs derived from a cost matrix.\n    *   Vertex capacities are set by histogram bin values.\n    *   The Successive Shortest Path (SSP) algorithm is presented as a representative network flow solution.\n    *   SSP iteratively finds and augments paths from vertices with remaining capacity in one histogram to vertices with remaining capacity in the other, using feasible edges (physical edges with remaining capacity or reverse edges with positive flow).\n    *   Definitions for feasible edges and their costs are provided.\n    *   The time complexity of SSP is discussed, highlighting the need for many shortest path computations.\n\n2.  **Filter-and-Refinement Framework for k-NN Queries:**\n    *   This framework is used for similarity search (k-nearest neighbor queries) using EMD.\n    *   It involves estimating EMD using lower bound filtering techniques (e.g., normal distribution index, full projection lower bound) before computing the exact EMD.\n    *   Filters are applied in increasing order of cost and accuracy.\n    *   Histograms that cannot be pruned by filters have their exact EMD computed by a black-box module (like SSP).\n    *   A pseudocode (Algorithm 1) illustrates the framework, which maintains a heap of k-NN candidates and a pruning threshold.\n\n3.  **Scaling Up SSP with the Simplified Incremental Algorithm (SIA):**\n    *   The document introduces SIA as an optimization to scale EMD computation for histograms with many bins.\n    *   SIA incrementally constructs a partial flow graph (G0) by inserting edges from the complete graph (G) to reduce search cost.\n    *   The core idea is to guarantee that the min-cost feasible paths in G and G0 are equivalent through distance bound checking.\n    *   Edges are inserted into G0 in ascending order of cost.\n    *   A pseudocode (Algorithm 2) describes SIA, which uses Dijkstra's algorithm on G0 and expands G0 by adding edges if the current shortest path cost exceeds a distance bound.\n    *   The process involves searching for min-cost feasible paths, augmenting flow, and updating the distance bound."
        }
      ],
      "node_id": "0005",
      "summary": "The document introduces two novel techniques, Progressive Bounding (PB) and Dynamic Refinement Ordering (DRO), designed to significantly accelerate Earth Mover's Distance (EMD)-based similarity searches. PB allows for early termination of calculations for unpromising histograms, while DRO efficiently manages and reorders multiple EMD computations. These methods are shown to improve search performance by one to two orders of magnitude compared to existing state-of-the-art approaches, particularly for large-scale datasets. The paper also provides a formal definition of EMD, explains its computation using min-cost flow algorithms (specifically the successive shortest path algorithm), and details the standard filter-and-refinement framework commonly used for EMD-based similarity queries. A concrete example of EMD application in viral marketing analysis is presented to illustrate its practical use."
    },
    {
      "title": "SCALING UP SSP",
      "start_index": 4,
      "end_index": 4,
      "nodes": [
        {
          "title": "Figure 5: (a) Partial graph, G'. (b) The cost matrix of G'.",
          "start_index": 4,
          "end_index": 4,
          "summary": "The document discusses two main algorithms related to k-Nearest Neighbor (k-NN) search and efficient Earth Mover's Distance (EMD) calculation.\n\nThe first part describes a **filter-and-refinement framework for k-NN search**. This framework uses an index to retrieve objects (histograms) and a pruning threshold. It iteratively accesses objects, attempts to tighten their lower bound distances using filters, and prunes objects if their lower bound exceeds the threshold. If an object passes the filter, its exact distance is computed, and a heap is maintained to store the k nearest neighbors found so far, updating the pruning threshold accordingly.\n\nThe second part focuses on **scaling up EMD computation using a simplified graph incremental algorithm (SIA)**. This algorithm is an optimization of the standard Successive Shortest Path (SSP) algorithm for EMD. SIA incrementally constructs a partial flow graph (G0) by adding edges from the complete bipartite graph (G) in increasing order of cost. This significantly reduces computation by working with a smaller graph. A distance bound checking mechanism ensures that the min-cost feasible paths in the partial graph are equivalent to those in the complete graph. The SIA algorithm uses Dijkstra's algorithm on the partial graph and expands it by adding more edges if the current shortest path cost exceeds the distance bound.",
          "node_type": "figure",
          "metadata": {
            "figure_number": "Figure 5",
            "caption": "(a) Partial graph, G'. (b) The cost matrix of G'.",
            "figure_type": "diagram",
            "bbox": {
              "x_min": 517.0,
              "y_min": 89.0,
              "x_max": 917.0,
              "y_max": 187.0
            }
          },
          "nodes": [],
          "node_id": "0011"
        },
        {
          "title": "Figure 5: SIA on a partial flow graph",
          "start_index": 4,
          "end_index": 4,
          "summary": "The document discusses two main algorithms related to k-Nearest Neighbor (k-NN) search and efficient Earth Mover's Distance (EMD) calculation.\n\nThe first part describes a **filter-and-refinement framework for k-NN search**. This framework uses an index to retrieve objects (histograms) and a pruning threshold. It iteratively accesses objects, attempts to tighten their lower bound distances using filters, and prunes objects if their lower bound exceeds the threshold. If an object passes the filter, its exact distance is computed, and a heap is maintained to store the k nearest neighbors found so far, updating the pruning threshold accordingly.\n\nThe second part focuses on **scaling up EMD computation using a simplified graph incremental algorithm (SIA)**. This algorithm is an optimization of the standard Successive Shortest Path (SSP) algorithm for EMD. SIA incrementally constructs a partial flow graph (G0) by adding edges from the complete bipartite graph (G) in increasing order of cost. This significantly reduces computation by working with a smaller graph. A distance bound checking mechanism ensures that the min-cost feasible paths in the partial graph are equivalent to those in the complete graph. The SIA algorithm uses Dijkstra's algorithm on the partial graph and expands it by adding more edges if the current shortest path cost exceeds the distance bound.",
          "node_type": "table",
          "metadata": {
            "table_number": "Figure 5",
            "caption": "SIA on a partial flow graph",
            "headers": [],
            "key_values": {},
            "bbox": {
              "x_min": 51.0,
              "y_min": 97.0,
              "x_max": 91.0,
              "y_max": 185.0
            }
          },
          "nodes": [],
          "node_id": "0012"
        }
      ],
      "node_id": "0010",
      "summary": "The document discusses two main algorithms related to k-Nearest Neighbor (k-NN) search and efficient Earth Mover's Distance (EMD) calculation.\n\nThe first part describes a **filter-and-refinement framework for k-NN search**. This framework uses an index to retrieve objects (histograms) and a pruning threshold. It iteratively accesses objects, attempts to tighten their lower bound distances using filters, and prunes objects if their lower bound exceeds the threshold. If an object passes the filter, its exact distance is computed, and a heap is maintained to store the k nearest neighbors found so far, updating the pruning threshold accordingly.\n\nThe second part focuses on **scaling up EMD computation using a simplified graph incremental algorithm (SIA)**. This algorithm is an optimization of the standard Successive Shortest Path (SSP) algorithm for EMD. SIA incrementally constructs a partial flow graph (G0) by adding edges from the complete bipartite graph (G) in increasing order of cost. This significantly reduces computation by working with a smaller graph. A distance bound checking mechanism ensures that the min-cost feasible paths in the partial graph are equivalent to those in the complete graph. The SIA algorithm uses Dijkstra's algorithm on the partial graph and expands it by adding more edges if the current shortest path cost exceeds the distance bound."
    }
  ]
}